define(["jquery"],function(a){function b(a,b){var c,d,e,f=a.length,g=b.length;for(c=[],d=0;d<=f;d+=1)c[d]=new Array(g+1).fill(0);for(d=0;d<f;d+=1)for(e=0;e<g;e+=1)a[d]==b[e]?c[d+1][e+1]=1+c[d][e]:c[d+1][e+1]=Math.max(c[d][e+1],c[d+1][e]);return c}function c(a,c){var d,e,f,g,h,i;for(d=b(a,c),i=d[a.length][c.length],h=[],e=a.length,f=c.length,g=i-1;g>=0;)a[e-1]==c[f-1]?(h[g]=a[e-1],g-=1,e-=1,f-=1):d[e-1][f]==d[e][f]?e-=1:f-=1;return h}function d(a,b,c,d,e){var f,g="",h=!1,i=0;for(void 0===d&&(d="<del>"),void 0===e&&(e="</del>"),f=0;f<a.length;f+=1)i<b.length&&a[f]==b[i]?(h&&(g+=e,h=!1),i+=1):h||(g+=d,h=!0),0!==f&&(g+=c),g+=a[f];return h&&(g+=e),g}function e(a){return a.tagName.toLowerCase()}function f(a,b,c){var d,f="pre"===e(a),g=a.innerHTML;return c&&(f&&(g=g.replace(/\n/g,k+"\n")),g=g.replace(/(<br ?.*?>)/g,k+"$1")),d=g.split(b)}function g(a,b){var e,g,h,i="",j=!0,k="<del>",l="</del>";e=f(a,i,j),g=f(b,i,j),h=c(e,g),a.innerHTML=d(e,h,i,k,l),b.innerHTML=d(g,h,i,k,l)}function h(a,b){var c=new RegExp("(</?del[^>]*>)|("+k+")","g");a.innerHTML=a.innerHTML.replace(c,""),b.innerHTML=b.innerHTML.replace(c,"")}function i(a,b,c,d){for(var e,f,g,h,i=0;i<a.length;i++)e=a[i],f=e.getElementsByTagName("td"),g=f[c],h=f[b],d(g,h)}function j(b,c,d){var e,f,j=a('[id="'+b+'"]'),k=a("table.coderunner-test-results tbody tr"),l=a("table.coderunner-test-results th"),m=0;l.each(function(){"Got"===a(this).html()?e=m:"Expected"===a(this).html()&&(f=m),m+=1}),e&&f?j.on("click",function(){j.prop("value")===c?(i(k.toArray(),e,f,g),j.prop("value",d)):(i(k.toArray(),e,f,h),j.prop("value",c))}):(j.enabled=!1,j.hide())}var k="â†©";return{initDiffButton:j}});